---
title: Quick Start
description: Get started with opencode-await in minutes
---

## Quick Start

Use the `await_command` tool to run and monitor long-running commands:

```typescript
await_command({
  command: "npm run build",
  maxDuration: 300,
  successPattern: "Build completed",
  errorPattern: "Error:|Failed"
})
```

## Basic Options

- `command`: The shell command to execute
- `maxDuration`: Maximum time in seconds (default: 300)
- `successPattern`: Regex to match for success
- `errorPattern`: Regex to match for failure

## How It Works

```mermaid
sequenceDiagram
    participant Agent as AI Agent
    participant Plugin as opencode-await
    participant Process as Shell Process
    participant Log as Log Capture
    participant AI as AI Summarizer
    
    Agent->>Plugin: await_command({command, options})
    Plugin->>Process: Bun.spawn(command)
    
    alt Poll Mode Enabled
        loop Every interval seconds
            Plugin->>Process: Execute command
            Process-->>Plugin: Output chunk
            Plugin->>Log: Write to temp file
            Plugin->>Plugin: Check patterns
        end
    else Standard Mode
        Process-->>Plugin: stdout + stderr
        Plugin->>Log: Write if persistLogs
    end
    
    Plugin->>Plugin: Match success/error patterns
    
    opt summarize.enabled
        Plugin->>AI: Summarize output
        AI-->>Plugin: Summary
    end
    
    Plugin-->>Agent: AwaitResult
```